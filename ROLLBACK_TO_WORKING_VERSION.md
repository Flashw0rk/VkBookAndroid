# ‚úÖ –û–¢–ö–ê–¢ –ö –†–ê–ë–û–ß–ï–ô –í–ï–†–°–ò–ò

## –î–∞—Ç–∞: 22.10.2025

---

## üîÑ –ß–¢–û –ë–´–õ–û –°–î–ï–õ–ê–ù–û

–û—Ç–∫–∞—Ç–∏–ª –ø–æ—Å–ª–µ–¥–Ω–µ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ —Å `daysFromJanuary`, –∫–æ—Ç–æ—Ä–æ–µ –∏—Å–ø–æ—Ä—Ç–∏–ª–æ –ª–æ–≥–∏–∫—É 2025 –≥–æ–¥–∞.

**–í–µ—Ä–Ω—É–ª—Å—è –∫ –ø—Ä–µ–¥—ã–¥—É—â–µ–π —Ä–∞–±–æ—á–µ–π –≤–µ—Ä—Å–∏–∏** —Å —Ñ–æ—Ä–º—É–ª–æ–π:
```kotlin
val adjustedShift = calculatedShift - yearShiftOffset
```

---

## ‚ùå –ü–†–û–ë–õ–ï–ú–ê –ë–´–õ–ê

### –ù–µ—É–¥–∞—á–Ω–∞—è –ø–æ–ø—ã—Ç–∫–∞ —É–ø—Ä–æ—â–µ–Ω–∏—è (—Å—Ç—Ä–æ–∫–∏ 235-240):

```kotlin
// –ù–ï–†–ê–ë–û–¢–ê–Æ–©–ê–Ø –õ–û–ì–ò–ö–ê:
val daysFromJanuary = (0 until monthIndex).sumOf { daysInMonths[it] }
val adjustedShift = daysFromJanuary % 36
```

**–ü–æ—á–µ–º—É –Ω–µ —Ä–∞–±–æ—Ç–∞–ª–æ:**
- –≠—Ç–∞ –ª–æ–≥–∏–∫–∞ –ø—Ä–µ–¥–ø–æ–ª–∞–≥–∞–ª–∞, —á—Ç–æ –∫–∞–ª–µ–Ω–¥–∞—Ä—å –ø—Ä–æ—Å—Ç–æ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω—ã–π
- –ù–û –≥—Ä–∞—Ñ–∏–∫ —Å–º–µ–Ω —Å–¥–≤–∏–Ω—É—Ç —Ü–∏–∫–ª–∏—á–µ—Å–∫–∏ –Ω–∞ `januaryCalculatedShift`
- –ë–µ–∑ —É—á–µ—Ç–∞ —ç—Ç–æ–≥–æ —Å–¥–≤–∏–≥–∞ –∫–∞–ª–µ–Ω–¥–∞—Ä—å –Ω–µ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–ª—Å—è —Å –≥—Ä–∞—Ñ–∏–∫–æ–º
- **2025 –≥–æ–¥ –ø–µ—Ä–µ—Å—Ç–∞–ª —Ä–∞–±–æ—Ç–∞—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω–æ**

---

## ‚úÖ –†–ê–ë–û–ß–ê–Ø –í–ï–†–°–ò–Ø (–í–û–°–°–¢–ê–ù–û–í–õ–ï–ù–ê)

### –°—Ç—Ä–æ–∫–∏ 235-241:

```kotlin
// –í—ã—á–∏—Å–ª—è–µ–º —Å–¥–≤–∏–≥ –¥–ª—è –º–µ—Å—è—Ü–∞ –Ω–∞ –æ—Å–Ω–æ–≤–µ –Ω–µ–ø—Ä–µ—Ä—ã–≤–Ω–æ—Å—Ç–∏ —Å–º–µ–Ω
val calculatedShift = calculateMonthShift(currentYear, monthIndex)

// –†–ê–ë–û–ß–ê–Ø –õ–û–ì–ò–ö–ê: –ü—Ä–∏–º–µ–Ω—è–µ–º –ï–î–ò–ù–´–ô yearShiftOffset –∫–æ –≤—Å–µ–º –º–µ—Å—è—Ü–∞–º!
val adjustedShift = calculatedShift - yearShiftOffset

Log.d(TAG, "–ú–µ—Å—è—Ü $monthName: calculated=$calculatedShift, adjusted=$adjustedShift (—Å–¥–≤–∏–≥ -$yearShiftOffset)")
```

### –£–ª—É—á—à–µ–Ω–Ω–∞—è –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è (—Å—Ç—Ä–æ–∫–∏ 243-279):

```kotlin
val safeAdjustedShift = if (adjustedShift < 0 || adjustedShift + daysInMonths[monthIndex] > 36) {
    Log.w(TAG, "–í–ù–ò–ú–ê–ù–ò–ï: $monthName adjusted=$adjustedShift –≤—ã—Ö–æ–¥–∏—Ç –∑–∞ –≥—Ä–∞–Ω–∏—Ü—ã!")
    
    // –ü–†–ê–í–ò–õ–¨–ù–ê–Ø –ù–û–†–ú–ê–õ–ò–ó–ê–¶–ò–Ø: —Å–æ—Ö—Ä–∞–Ω—è–µ–º –∑–Ω–∞—á–µ–Ω–∏–µ –ø–∞—Ç—Ç–µ—Ä–Ω–∞
    val patternValue = calculatedShift % 10
    val maxSafePosition = 36 - daysInMonths[monthIndex]
    
    // –ò—â–µ–º –ø–æ–¥—Ö–æ–¥—è—â—É—é –ø–æ–∑–∏—Ü–∏—é —Å —Ç–µ–º –∂–µ –∑–Ω–∞—á–µ–Ω–∏–µ–º –ø–∞—Ç—Ç–µ—Ä–Ω–∞
    var safePosition = patternValue
    while (safePosition > maxSafePosition && safePosition > 0) {
        safePosition -= 10
    }
    
    // –ï—Å–ª–∏ –≤—Å–µ –µ—â–µ –Ω–µ –ø–æ–¥—Ö–æ–¥–∏—Ç, –Ω–æ—Ä–º–∞–ª–∏–∑—É–µ–º —á–µ—Ä–µ–∑ –º–æ–¥—É–ª—å
    if (safePosition < 0 || safePosition + daysInMonths[monthIndex] > 36) {
        val normalized = ((adjustedShift % 10) + 10) % 10
        Log.d(TAG, "  –ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è: $adjustedShift ‚Üí $normalized (—á–µ—Ä–µ–∑ –º–æ–¥—É–ª—å 10)")
        
        if (normalized + daysInMonths[monthIndex] <= 36) {
            normalized
        } else {
            Log.w(TAG, "  ‚ö†Ô∏è –ò—Å–ø–æ–ª—å–∑—É–µ–º –ø–æ–∑–∏—Ü–∏—é 0")
            0
        }
    } else {
        Log.d(TAG, "  ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–µ–º –ø–æ–∑–∏—Ü–∏—é $safePosition")
        safePosition
    }
} else {
    adjustedShift
}
```

---

## üßÆ –ö–ê–ö –≠–¢–û –†–ê–ë–û–¢–ê–ï–¢

### 2025 –≥–æ–¥:

```
yearShiftOffset = 1 - 1 = 0

–Ø–ù–í–ê–†–¨:
  calculated = 1
  adjusted = 1 - 0 = 1 ‚úÖ
  
–§–ï–í–†–ê–õ–¨:
  calculated = 2
  adjusted = 2 - 0 = 2 ‚úÖ
  
–ú–ê–†–¢:
  calculated = 0
  adjusted = 0 - 0 = 0 ‚úÖ
```

### 2026 –≥–æ–¥:

```
yearShiftOffset = 6 - 0 = 6

–Ø–ù–í–ê–†–¨:
  calculated = 6
  adjusted = 6 - 6 = 0 ‚úÖ
  
–§–ï–í–†–ê–õ–¨:
  calculated = 2
  adjusted = 2 - 6 = -4 ‚ùå –û—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–π!
  
  –ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è:
    patternValue = 2 % 10 = 2
    maxSafePosition = 36 - 28 = 8
    safePosition = 2 (‚â§ 8, –ø–æ–º–µ—â–∞–µ—Ç—Å—è!)
    
    –ü—Ä–æ–≤–µ—Ä–∫–∞: 2 + 28 = 30 ‚â§ 36 ‚úÖ
    
  safeAdjustedShift = 2 ‚úÖ
  
–ú–ê–†–¢:
  calculated = 7
  adjusted = 7 - 6 = 1 ‚úÖ
```

---

## üìä –¢–ï–ö–£–©–ï–ï –°–û–°–¢–û–Ø–ù–ò–ï

### –ß—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç:

1. ‚úÖ **2025 –≥–æ–¥** - –≤—Å–µ –º–µ—Å—è—Ü—ã —Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã —Å –≥—Ä–∞—Ñ–∏–∫–æ–º
2. ‚úÖ **2026 –≥–æ–¥** - —è–Ω–≤–∞—Ä—å —Ä–∞–±–æ—Ç–∞–µ—Ç, —Ñ–µ–≤—Ä–∞–ª—å –Ω–æ—Ä–º–∞–ª–∏–∑—É–µ—Ç—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ
3. ‚úÖ **–ì—Ä–∞—Ñ–∏–∫ —Å–º–µ–Ω** —Å–¥–≤–∏–≥–∞–µ—Ç—Å—è –Ω–∞ `januaryCalculatedShift`
4. ‚úÖ **–ö–∞–ª–µ–Ω–¥–∞—Ä—å** –ø–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä—É–µ—Ç—Å—è —á–µ—Ä–µ–∑ `calculatedShift - yearShiftOffset`
5. ‚úÖ **–ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è** —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ –ø–∞—Ç—Ç–µ—Ä–Ω–∞
6. ‚úÖ **–í–∏—Å–æ–∫–æ—Å–Ω—ã–µ –≥–æ–¥–∞** —É—á–∏—Ç—ã–≤–∞—é—Ç—Å—è
7. ‚úÖ **–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç–∏** —Ä–∞–±–æ—Ç–∞–µ—Ç

### –ß—Ç–æ –º–æ–∂–µ—Ç –ø–æ—Ç—Ä–µ–±–æ–≤–∞—Ç—å –ø—Ä–æ–≤–µ—Ä–∫–∏:

- ‚ö†Ô∏è –§–µ–≤—Ä–∞–ª—å –∏ –º–∞—Ä—Ç 2026 - –Ω—É–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –≤–∏–∑—É–∞–ª—å–Ω–æ, —á—Ç–æ –æ–Ω–∏ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—Ç –≥—Ä–∞—Ñ–∏–∫—É
- ‚ö†Ô∏è –î—Ä—É–≥–∏–µ –ø—Ä–æ–±–ª–µ–º–Ω—ã–µ –≥–æ–¥–∞ - –µ—Å–ª–∏ –µ—Å—Ç—å

---

## üß™ –ö–ê–ö –ü–†–û–í–ï–†–ò–¢–¨

### –ö–æ–º–∞–Ω–¥–∞:

```bash
adb logcat | grep "ScheduleFragment"
```

### –û–∂–∏–¥–∞–µ–º—ã–π –≤—ã–≤–æ–¥ (2025):

```
‚ïê‚ïê‚ïê –ì–æ–¥ 2025 - –†–∞—Å—á–µ—Ç –∫–∞–ª–µ–Ω–¥–∞—Ä—è ‚ïê‚ïê‚ïê
–Ø–Ω–≤–∞—Ä—å: calculated=1, adjusted=1
–°–¥–≤–∏–≥ –≥–æ–¥–∞ (yearShiftOffset): 0
–ú–µ—Å—è—Ü –Ø–Ω–≤–∞—Ä—å: calculated=1, adjusted=1 (—Å–¥–≤–∏–≥ -0)
–ú–µ—Å—è—Ü –§–µ–≤—Ä–∞–ª—å: calculated=2, adjusted=2 (—Å–¥–≤–∏–≥ -0)
–ú–µ—Å—è—Ü –ú–∞—Ä—Ç: calculated=0, adjusted=0 (—Å–¥–≤–∏–≥ -0)
...
‚úÖ –í—Å–µ –º–µ—Å—è—Ü—ã –≤–∞–ª–∏–¥–Ω—ã!
```

### –û–∂–∏–¥–∞–µ–º—ã–π –≤—ã–≤–æ–¥ (2026):

```
‚ïê‚ïê‚ïê –ì–æ–¥ 2026 - –†–∞—Å—á–µ—Ç –∫–∞–ª–µ–Ω–¥–∞—Ä—è ‚ïê‚ïê‚ïê
–Ø–Ω–≤–∞—Ä—å: calculated=6, adjusted=0
–°–¥–≤–∏–≥ –≥–æ–¥–∞ (yearShiftOffset): 6
–ú–µ—Å—è—Ü –Ø–Ω–≤–∞—Ä—å: calculated=6, adjusted=0 (—Å–¥–≤–∏–≥ -6)
–ú–µ—Å—è—Ü –§–µ–≤—Ä–∞–ª—å: calculated=2, adjusted=-4 (—Å–¥–≤–∏–≥ -6)
–í–ù–ò–ú–ê–ù–ò–ï: –§–µ–≤—Ä–∞–ª—å adjusted=-4 –≤—ã—Ö–æ–¥–∏—Ç –∑–∞ –≥—Ä–∞–Ω–∏—Ü—ã!
  patternValue=2, maxSafePosition=8
  ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–µ–º –ø–æ–∑–∏—Ü–∏—é 2
–ú–µ—Å—è—Ü –ú–∞—Ä—Ç: calculated=7, adjusted=1 (—Å–¥–≤–∏–≥ -6)
...
‚úÖ –í—Å–µ –º–µ—Å—è—Ü—ã –≤–∞–ª–∏–¥–Ω—ã!
```

---

## üìù –ò–¢–û–ì–ò

### –ß—Ç–æ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ:

- ‚úÖ –§–æ—Ä–º—É–ª–∞: `adjustedShift = calculatedShift - yearShiftOffset`
- ‚úÖ –ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è —Å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º –∑–Ω–∞—á–µ–Ω–∏—è –ø–∞—Ç—Ç–µ—Ä–Ω–∞
- ‚úÖ –õ–æ–≥–∏–∫–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –¥–ª—è 2025 –≥–æ–¥–∞
- ‚úÖ –õ–æ–≥–∏–∫–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –¥–ª—è 2026 –≥–æ–¥–∞ (—Å –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏–µ–π)

### APK:

**–§–∞–π–ª:** `app/build/outputs/apk/debug/app-debug.apk`

**–°—Ç–∞—Ç—É—Å:** ‚úÖ BUILD SUCCESSFUL

### –ü—Ä–æ–≤–µ—Ä—å—Ç–µ:

1. 2025 –≥–æ–¥ - –≤—Å–µ –º–µ—Å—è—Ü—ã –¥–æ–ª–∂–Ω—ã —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–æ–≤–∞—Ç—å –≥—Ä–∞—Ñ–∏–∫—É ‚úÖ
2. 2026 –≥–æ–¥ - —è–Ω–≤–∞—Ä—å, —Ñ–µ–≤—Ä–∞–ª—å, –º–∞—Ä—Ç –¥–æ–ª–∂–Ω—ã —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–æ–≤–∞—Ç—å –≥—Ä–∞—Ñ–∏–∫—É ‚ö†Ô∏è (–Ω—É–∂–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞)
3. –õ–æ–≥–∏ –¥–æ–ª–∂–Ω—ã –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω—É—é –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—é

---

## üéâ –†–ï–ó–£–õ–¨–¢–ê–¢

**–í–µ—Ä–Ω—É–ª–∏—Å—å –∫ —Ä–∞–±–æ—á–µ–π –≤–µ—Ä—Å–∏–∏, –∫–æ—Ç–æ—Ä–∞—è —Ä–∞–±–æ—Ç–∞–ª–∞ –¥–ª—è 2025 –≥–æ–¥–∞!**

–¢–µ–ø–µ—Ä—å –Ω—É–∂–Ω–æ **–ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å 2026 –≥–æ–¥** –∏ —É–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ —Ñ–µ–≤—Ä–∞–ª—å –∏ –º–∞—Ä—Ç —Ç–æ–∂–µ —Ä–∞–±–æ—Ç–∞—é—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ.

–ï—Å–ª–∏ 2026 –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç, –∑–Ω–∞—á–∏—Ç –ø—Ä–æ–±–ª–µ–º–∞ –≤ –ª–æ–≥–∏–∫–µ `calculateMonthShift` –∏–ª–∏ –≤ —Å–¥–≤–∏–≥–µ –≥—Ä–∞—Ñ–∏–∫–∞, –∞ –ù–ï –≤ –ø–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–∏ –∫–∞–ª–µ–Ω–¥–∞—Ä—è!






