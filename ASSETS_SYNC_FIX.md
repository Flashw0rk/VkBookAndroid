# üîß –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ —Ñ–∞–π–ª–æ–≤ –∏–∑ assets

## üêõ –ü—Ä–æ–±–ª–µ–º–∞
–§–∞–π–ª—ã `Armatures.xlsx` –∏ `Oborudovanie_BSCHU.xlsx` –≤ –ø–∞–ø–∫–µ `assets/Databases/` –Ω–µ –æ–±–Ω–æ–≤–ª—è–ª–∏—Å—å —Å —Å–µ—Ä–≤–µ—Ä–∞, –ø–æ—Ç–æ–º—É —á—Ç–æ:

1. **Assets —Å—Ç–∞—Ç–∏—á–Ω—ã** - —Ñ–∞–π–ª—ã –≤ –ø–∞–ø–∫–µ `assets/` –Ω–µ–ª—å–∑—è –∏–∑–º–µ–Ω–∏—Ç—å –≤–æ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
2. **RemoteFileProvider –Ω–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª—Å—è** - `remote_base_url` –±—ã–ª –ø—É—Å—Ç–æ–π, –ø–æ—ç—Ç–æ–º—É ExcelRepository –≤—Å–µ–≥–¥–∞ —á–∏—Ç–∞–ª –∏–∑ assets
3. **–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∞—è –ª–æ–≥–∏–∫–∞ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è** - –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã –Ω–µ –∑–∞–º–µ–Ω—è–ª–∏ —Å—Ç–∞—Ä—ã–µ

## ‚úÖ –†–µ—à–µ–Ω–∏–µ

### 1. –ù–∞—Å—Ç—Ä–æ–µ–Ω remote_base_url
```xml
<!-- strings.xml -->
<string name="remote_base_url">http://10.0.2.2:8082/</string>
```

### 2. –£–ª—É—á—à–µ–Ω RemoteFileProvider
```kotlin
// –°–Ω–∞—á–∞–ª–∞ –ø—Ä–æ–≤–µ—Ä—è–µ–º –∫—ç—à, –ø–æ—Ç–æ–º —Å–∫–∞—á–∏–≤–∞–µ–º
if (cached.exists() && cached.length() > 0) {
    Log.d("RemoteFileProvider", "Using cached file: ${cached.absolutePath}")
    return cached.inputStream()
}
```

### 3. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω SyncService
```kotlin
// –£–¥–∞–ª—è–µ–º —Å—Ç–∞—Ä—ã–π —Ñ–∞–π–ª –ø–µ—Ä–µ–¥ –∑–∞–≥—Ä—É–∑–∫–æ–π –Ω–æ–≤–æ–≥–æ
if (file.exists()) {
    file.delete()
    Log.d(tag, "Deleted old file: ${file.absolutePath}")
}
```

## üîÑ –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–µ–ø–µ—Ä—å

1. **–ü—Ä–∏ –∑–∞–ø—É—Å–∫–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è:**
   - ExcelRepository —Å–æ–∑–¥–∞–µ—Ç—Å—è —Å RemoteFileProvider
   - RemoteFileProvider –Ω–∞—Å—Ç—Ä–æ–µ–Ω –Ω–∞ —Å–µ—Ä–≤–µ—Ä `http://10.0.2.2:8082/`

2. **–ü—Ä–∏ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏:**
   - SyncService –∑–∞–≥—Ä—É–∂–∞–µ—Ç Excel —Ñ–∞–π–ª—ã —Å —Å–µ—Ä–≤–µ—Ä–∞
   - –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –∏—Ö –≤ `cache/remote_cache/`
   - –£–¥–∞–ª—è–µ—Ç —Å—Ç–∞—Ä—ã–µ —Ñ–∞–π–ª—ã –ø–µ—Ä–µ–¥ –∑–∞–≥—Ä—É–∑–∫–æ–π –Ω–æ–≤—ã—Ö

3. **–ü—Ä–∏ —á—Ç–µ–Ω–∏–∏ –¥–∞–Ω–Ω—ã—Ö:**
   - ExcelRepository –∏—Å–ø–æ–ª—å–∑—É–µ—Ç RemoteFileProvider
   - RemoteFileProvider —Å–Ω–∞—á–∞–ª–∞ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –∫—ç—à
   - –ï—Å–ª–∏ —Ñ–∞–π–ª –µ—Å—Ç—å –≤ –∫—ç—à–µ - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –µ–≥–æ
   - –ï—Å–ª–∏ –Ω–µ—Ç - —Å–∫–∞—á–∏–≤–∞–µ—Ç —Å —Å–µ—Ä–≤–µ—Ä–∞
   - –ï—Å–ª–∏ —Å–µ—Ä–≤–µ—Ä –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω - fallback –Ω–∞ assets

## üì± –†–µ–∑—É–ª—å—Ç–∞—Ç

–¢–µ–ø–µ—Ä—å –ø–æ—Å–ª–µ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏:
- ‚úÖ **Excel —Ñ–∞–π–ª—ã –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è** - –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è —Å —Å–µ—Ä–≤–µ—Ä–∞
- ‚úÖ **–î–∞–Ω–Ω—ã–µ –∞–∫—Ç—É–∞–ª—å–Ω—ã** - ArmatureFragment –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ
- ‚úÖ **–ö—ç—à —Ä–∞–±–æ—Ç–∞–µ—Ç** - —Ñ–∞–π–ª—ã —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –ª–æ–∫–∞–ª—å–Ω–æ
- ‚úÖ **Fallback –Ω–∞ assets** - –µ—Å–ª–∏ —Å–µ—Ä–≤–µ—Ä –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω

## üîç –õ–æ–≥–∏ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏

–ò—â–∏—Ç–µ –≤ –ª–æ–≥–∞—Ö Android Studio:
```
SyncService: Downloaded Excel file: Armatures.xlsx to /cache/remote_cache/Armatures.xlsx (12345 bytes)
RemoteFileProvider: Using cached file: /cache/remote_cache/Armatures.xlsx (12345 bytes)
ArmatureFragment: Excel cache cleared
```

## ‚ö†Ô∏è –í–∞–∂–Ω–æ

- **Assets –æ—Å—Ç–∞—é—Ç—Å—è –Ω–µ–∏–∑–º–µ–Ω–Ω—ã–º–∏** - —ç—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ, –æ–Ω–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –∫–∞–∫ fallback
- **–†–µ–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ** —Ç–µ–ø–µ—Ä—å –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è —Å —Å–µ—Ä–≤–µ—Ä–∞ –≤ –∫—ç—à
- **–ö—ç—à –æ—á–∏—â–∞–µ—Ç—Å—è** –ø—Ä–∏ –∫–∞–∂–¥–æ–π —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è

---

**–ü—Ä–æ–±–ª–µ–º–∞ —Ä–µ—à–µ–Ω–∞! –§–∞–π–ª—ã —Ç–µ–ø–µ—Ä—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è —Å —Å–µ—Ä–≤–µ—Ä–∞.** üéâ
