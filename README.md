# VK Book Android

Мобильное приложение-справочник для поиска документации по сигналам оборудования и дополнительным функциям для экономии времени реабилитации.

## Описание

VK Book Android - это порт десктопного приложения VK Book на платформу Android. Приложение предоставляет удобный интерфейс для работы с документацией оборудования через три основные вкладки:

1. **Сигналы БЩУ** - таблица с данными сигналов оборудования
2. **Арматура** - таблица арматуры с возможностью открытия схем
3. **Схемы** - список доступных схем для просмотра

## Архитектура

Проект использует архитектуру с разделением на модули:

- **Core** (Java) - общая бизнес-логика, работа с Excel файлами, JSON координатами
- **App** (Kotlin) - Android UI, фрагменты, адаптеры

### Основные компоненты

- `MainActivity` - главная активность с вкладками и поиском
- `SignalsFragment` - фрагмент для отображения сигналов БЩУ
- `ArmatureFragment` - фрагмент для отображения арматуры
- `SchemesFragment` - фрагмент для отображения схем
- `PdfViewerActivity` - активность для просмотра схем с метками

## Функциональность

### Поиск
- Глобальный поиск по всем вкладкам
- Фильтрация данных в реальном времени
- Поиск по обозначениям, типам, статусам

### Таблицы
- Отображение данных в виде таблиц с RecyclerView
- Автоматическая подстройка высоты ячеек
- Поддержка кликов по строкам

### Схемы
- Просмотр схем с наложенными метками арматуры
- Выделение выбранной арматуры на схеме
- Координатная система для точного позиционирования

## Структура данных

### Excel файлы
- Поддержка формата .xlsx
- Автоматическое чтение заголовков
- Обработка объединенных ячеек
- Сохранение форматирования

### JSON координаты
Файл `armature_coords.json` содержит координаты меток арматуры:
```json
{
  "План на отметке -4,8.pdf": {
    "А-0": {
      "page": 1,
      "x": 150.0,
      "y": 160.0,
      "width": 60,
      "height": 30,
      "zoom": 3.0,
      "label": "А-0"
    }
  }
}
```

## Установка и запуск

### Требования
- Android Studio Arctic Fox или новее
- Android SDK 26+
- Java 11+

### Сборка
1. Клонируйте репозиторий
2. Откройте проект в Android Studio
3. Синхронизируйте Gradle
4. Запустите на устройстве или эмуляторе

```bash
./gradlew assembleDebug
```

## Использование

1. **Запуск приложения** - откроется главный экран с тремя вкладками
2. **Поиск** - введите текст в поисковую строку для фильтрации данных
3. **Просмотр таблиц** - переключайтесь между вкладками для просмотра разных типов данных
4. **Открытие схем** - нажмите на строку арматуры или схему для просмотра с метками

## Разработка

### Добавление новых данных
1. Поместите Excel файлы в папку `Core/data/Databases/`
2. Обновите координаты в `armature_coords.json`
3. Добавьте схемы в `app/src/main/assets/`

### Расширение функциональности
- Новые вкладки - добавьте фрагмент и обновите `MainPagerAdapter`
- Новые типы данных - расширьте `RowDataDynamic` и создайте адаптер
- Новые схемы - добавьте поддержку в `PdfViewerActivity`

## Технические детали

### Зависимости
- AndroidX Core, AppCompat, Material Design
- ViewPager2 для вкладок
- RecyclerView для таблиц
- Apache POI для Excel
- Gson для JSON
- Coroutines для асинхронных операций

### Структура проекта
```
VkBookAndroid/
├── app/                    # Android приложение
│   ├── src/main/
│   │   ├── java/          # Kotlin код
│   │   ├── res/           # Ресурсы
│   │   └── assets/        # Файлы данных
│   └── build.gradle.kts   # Конфигурация модуля
├── Core/                   # Общая логика
│   ├── src/main/java/     # Java код
│   ├── data/              # Данные
│   └── build.gradle.kts   # Конфигурация модуля
└── build.gradle.kts       # Корневая конфигурация
```

## Лицензия

Проект разработан для внутреннего использования.

## Контакты

Для вопросов и предложений обращайтесь к разработчику. 