## VK-book-Android: мобильная система работы с техдокументацией

### Цель проекта
Сократить время поиска критически важной информации по оборудованию и повысить оперативность персонала за счёт быстрого доступа к таблицам Excel и схемам PDF на Android‑устройствах.

### Описание
VK-book-Android — Android‑приложение, объединяющее данные из Excel и PDF, с быстрым поиском (подсветка совпадений) и мгновенной навигацией к нужным фрагментам схем.

### Скриншоты
- «Сигналы БЩУ»
- «Арматура»
- «Схемы»
- Поиск и подсветка результатов

## Ключевые функции

### Интеграция с XLSX и кеш
- Чтение `Armatures.xlsx` и `Oborudovanie_BSCHU.xlsx` из `app/src/main/assets/Databases/`.
- Авто‑заголовки и ширины колонок; лимит ширины до 150 мм; пропорциональная подстройка при ротации.
- Постраничная загрузка, ленивое чтение и файловый кеш.
- Инвалидация кеша по SHA‑256; безопасная пересборка в фоне; мгновенный показ из кеша.
- Служебная колонка `PDF_Схема_и_ID_арматуры` скрыта в интерфейсе.

### Поиск и подсветка
- Единая логика по вкладкам: остаются только строки с вхождением запроса (ignoreCase).
- Подсветка совпавших ячеек; синхронизация текста поиска между вкладками.

### Вкладка «Арматура»
- Тап по названию арматуры открывает соответствующую PDF‑схему и ставит красный прямоугольник по координатам из `app/src/main/assets/armature_coords.json` (страница, x/y/width/height, zoom).
- Подсветка/кликабельность арматур — только при наличии валидной ссылки на PDF в строке.

### Просмотрщик PDF
- Плавный зум/панорамирование; точное позиционирование маркера; сохранение масштаба/центра при ререндере.
- Кнопка «макс. качество» доступна только при реальном улучшении; рендер в фоне (`Dispatchers.IO`).
- Рендер видимой области в print‑качестве без размытия; кнопка «восстановить полную схему».
- Защита от OOM/Canvas: кламп по памяти, `GL_MAX_TEXTURE_SIZE`, безопасные размеры `Bitmap`.

### UI/UX
- Корректный `TabLayout` (WindowInsets + комфортная высота).
- Таблицы не пропадают при ротации; сохранение/восстановление ширин колонок.

## Используемые технологии
- Kotlin, AndroidX, Material Components, ViewPager2, RecyclerView, Coroutines
- XLSX: Apache POI
- PDF: Android `PdfRenderer`
- JSON: Gson

## Как запустить

### Требования
- Android Studio (Arctic Fox+), Android SDK, Gradle (через Android Studio)
- Тестировано на современных Android‑устройствах (разные производители)

### Шаги
1) Клонируйте репозиторий:
```bash
git clone <repo>
```
2) Подготовьте данные:
- `app/src/main/assets/Databases/Armatures.xlsx`
- `app/src/main/assets/Databases/Oborudovanie_BSCHU.xlsx`
- `app/src/main/assets/armature_coords.json`
- PDF‑схемы в `app/src/main/assets/Schemes/`

3) Сборка/запуск:
- Запустите конфигурацию `app` (Debug) на устройстве/эмуляторе в Android Studio
- Или из терминала:
```bash
./gradlew :app:assembleDebug
```

Примечание: при обновлении XLSX в `assets` данные обновляются автоматически (SHA‑256 инвалидация кеша, мгновенный показ старого кеша с фоновым пересбором нового).

## Структура проекта
- `app/src/main/java/` — исходный код Android
- `app/src/main/res/` — ресурсы (layout, drawables и т.д.)
- `app/src/main/assets/Databases/` — XLSX‑базы: `Armatures.xlsx`, `Oborudovanie_BSCHU.xlsx`
- `app/src/main/assets/Schemes/` — PDF‑схемы
- `app/src/main/assets/armature_coords.json` — координаты и зум для арматуры
- `app/build.gradle.kts` — сборка приложения (включая фильтрацию assets)

## Автор
- Flashw0rk (`https://github.com/Flashw0rk`)
